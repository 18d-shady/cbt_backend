{% extends "unfold/layouts/base.html" %}

{% block content %}
<div class="p-6">
    <h2 class="text-xl font-bold mb-2">Bulk Course Registration</h2>
    <p class="mb-6">You are registering <strong>{{ students|length }} students</strong> for the courses selected below.</p>

    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="action" value="bulk_register_courses" />
        <input type="hidden" name="apply" value="yes" />
        {% for student in students %}
            <input type="hidden" name="_selected_action" value="{{ student.pk }}" />
        {% endfor %}

        <h3 class="font-semibold mb-3">Select Courses:</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-8">
            {% for course in courses %}
                <label class="flex items-center p-3 border rounded hover:bg-green-50">
                    <input type="checkbox" name="courses" value="{{ course.id }}" class="mr-3">
                    <div>
                        <div class="font-bold">{{ course.name }}</div>
                        <div class="text-xs text-gray-500">{{ course.target_class }}</div>
                    </div>
                </label>
            {% endfor %}
        </div>

        <button type="submit" class="bg-blue-600 text-white px-8 py-3 rounded font-bold shadow-lg">Confirm Registration</button>
    </form>
</div>
{% endblock %}